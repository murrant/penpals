(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+R/d":function(e,t,s){"use strict";var n=s("0geW");s.n(n).a},0:function(e,t,s){s("bUC5"),e.exports=s("pyCd")},"0O3m":function(e,t,s){"use strict";s.r(t);var n={name:"PenpalList",data:function(){return{penpals:[]}},mounted:function(){var e=this;axios.get("ajax/users").then((function(t){return e.penpals=t.data.penpals}))}},a=s("KHd+"),r=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",e._l(e.penpals,(function(t){return s("li",[e._v(e._s(t.first_name)+" "+e._s(t.last_name))])})),0)}),[],!1,null,"7f504999",null);t.default=r.exports},"0geW":function(e,t,s){var n=s("XvRH");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(n,a);n.locals&&(e.exports=n.locals)},"7eC/":function(e,t,s){"use strict";s.r(t);var n={name:"AddressListItem",props:{address:{type:Object,required:!0}},data:function(){return{completed:null!==this.address.completed,residentsExpanded:!1}},watch:{completed:function(){this.$emit("address-completed",{id:this.address.id,value:this.completed})}}},a=(s("wSQI"),s("KHd+")),r=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"address-panel row"},[s("div",[s("div",{staticClass:"card-group",on:{click:function(t){e.residentsExpanded=!e.residentsExpanded}}},e._l(e.address.residents,(function(t){return s("resident",{key:t.id,attrs:{resident:t,expanded:e.residentsExpanded}})})),1),e._v(" "),s("mailing-address",{attrs:{address:e.address}})],1),e._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.completed,expression:"completed"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.completed)?e._i(e.completed,null)>-1:e.completed},on:{change:function(t){var s=e.completed,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=e._i(s,null);n.checked?r<0&&(e.completed=s.concat([null])):r>-1&&(e.completed=s.slice(0,r).concat(s.slice(r+1)))}else e.completed=a}}})])])}),[],!1,null,"5e4690df",null);t.default=r.exports},"9P+s":function(e,t,s){"use strict";s.r(t);var n={name:"AddressList",props:{name:{type:String,required:!0}},data:function(){return{addresses:[]}},mounted:function(){var e=this;axios.get("ajax/address").then((function(t){return e.addresses=t.data.addresses.map((function(e){return e.completed=e.completed?new Date(e.completed):null,e.assigned=e.assigned?new Date(e.assigned):null,e}))}))},computed:{assigned:function(){return this.addresses.filter((function(e){return null===e.completed})).sort((function(e,t){return t.assigned-e.assigned}))},completed:function(){return this.addresses.filter((function(e){return null!==e.completed})).sort((function(e,t){return t.completed-e.completed}))}},methods:{changeCompleted:function(e){var t=this;axios.put("ajax/address/"+e.id,{completed:e.value}).then((function(e){t.addresses=t.addresses.map((function(t){return t.id===e.data.id&&(t.completed=e.data.completed),t}))}))},chunk:function(e,t){return e.reduce((function(e,s,n){return(n%t?e[e.length-1].push(s):e.push([s]))&&e}),[])}}},a=(s("+R/d"),s("KHd+")),r=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"row non-printable"},[s("div",{staticClass:"col-lg-8 col-md-10 col-sm-12 offset-lg-2 offset-md-1"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[e._v("Assigned PenPals ("+e._s(e.assigned.length)+")")]),e._v(" "),s("div",{staticClass:"card-body"},[e.assigned.length>0?s("div",{staticClass:"list-header"},[e._m(0),e._v(" "),e._m(1)]):s("div",[e._v("\n                        All letters sent! :D"),s("br"),e._v(" "),s("a",{staticClass:"btn btn-primary",attrs:{role:"button",href:"/address-request/create"}},[e._v("Request More")])]),e._v(" "),e._l(e.assigned,(function(t){return s("address-list-item",{key:t.id,attrs:{address:t},on:{"address-completed":e.changeCompleted}})}))],2)])])]),e._v(" "),e._m(2),e._v(" "),s("div",{staticClass:"row mt-3 non-printable"},[s("div",{staticClass:"col-lg-8 col-md-10 col-sm-12 offset-lg-2 offset-md-1"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header"},[e._v("Completed ("+e._s(e.completed.length)+")")]),e._v(" "),e.completed.length>0?s("div",{staticClass:"card-body"},[e._m(3),e._v(" "),e._l(e.completed,(function(t){return s("address-list-item",{key:t.id,attrs:{address:t},on:{"address-completed":e.changeCompleted}})}))],2):e._e()])])]),e._v(" "),s("div",{staticClass:"printable"},[s("h3",[e._v("Penpals for: "+e._s(this.name))]),e._v(" "),s("table",e._l(e.chunk(this.assigned,2),(function(t){return s("tr",e._l(t,(function(t){return s("td",{staticClass:"print-cell"},[e._l(t.residents,(function(t){return s("div",{staticClass:"address"},[s("strong",[e._v(e._s(t.name))])])})),e._v(" "),s("mailing-address",{attrs:{address:t}})],2)})),0)})),0)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h4",[this._v("PenPal")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"justify-self":"end"}},[t("h4",[this._v("Mail Sent?")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row mt-3 non-printable"},[t("div",{staticClass:"col-lg-8 col-md-10 col-sm-12 offset-lg-2 offset-md-1"},[this._v("\n            If you would like to request more addresses, take a picture of your letters before you mail them!\n        ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"list-header"},[t("div",[t("h4",[this._v("PenPal")])]),this._v(" "),t("div",{staticStyle:{"justify-self":"end"}},[t("h4",[this._v("Mail Sent?")])])])}],!1,null,"2b803e3f",null);t.default=r.exports},"9Wh1":function(e,t,s){window._=s("LvDl");try{window.Popper=s("8L3F").default,window.$=window.jQuery=s("EVdn"),s("SYky")}catch(e){}window.axios=s("vDqi"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.toastr=s("hUol"),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(e){var t=!0,s=!1,n=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){a.value.unregister().then((function(){return self.clients.matchAll()})).then((function(e){e.forEach((function(e){e.url&&"navigate"in e&&e.navigate(e.url)}))}))}}catch(e){s=!0,n=e}finally{try{t||null==r.return||r.return()}finally{if(s)throw n}}}))},EYoz:function(e,t,s){(e.exports=s("I1BE")(!1)).push([e.i,"\n.proof[data-v-49a2d422] {\n    max-height: 300px;\n}\n.previous-images[data-v-49a2d422] {\n    max-height: 100px;\n    max-width: 100px;\n    margin: 4px;\n}\n",""])},FHMg:function(e,t,s){"use strict";s.r(t);var n={name:"Resident",props:{resident:{type:Object,require:!0},expanded:{type:Boolean,require:!0}},computed:{primary:function(){return"Primary"===this.resident.relation}}},a=(s("wt6r"),s("KHd+")),r=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[s("div",{class:{"card-header":!0,"bg-info":e.primary,"text-light":e.primary}},[e._v("\n        "+e._s(e.resident.name)+"\n    ")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"card-body"},[s("div",[e._v("Age: "+e._s(e.resident.age_range))]),e._v(" "),s("div",[e._v("Gender: "+e._s(e.resident.gender))]),e._v(" "),!e.primary&&e.resident.relation?s("div",[e._v("Relation: "+e._s(e.resident.relation))]):e._e()])])}),[],!1,null,"4217b746",null);t.default=r.exports},IC88:function(e,t,s){"use strict";s.r(t);var n={name:"AddressRequest",props:{request:Object,penpal:Object,sent:Number,previous:Array,available:Number},data:function(){return{amount:this.request.amount,reason:"",pending:!0}},methods:{submitApproval:function(e){var t=this,s=new FormData;s.append("amount",this.amount),s.append("message",this.reason);var n="/address-request/"+this.request.id+"/"+e;axios.post(n,s).then((function(e){return t.pending=!1}))}}},a=(s("wqAo"),s("KHd+")),r=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.pending?s("div",{staticClass:"card mb-3"},[s("div",{staticClass:"card-header"},[s("h4",[e._v(e._s(e.penpal.first_name)+" "+e._s(e.penpal.last_name))]),e._v("\n        "+e._s(e.penpal.email)),s("br"),e._v("\n        Total Sent: "+e._s(e.sent)+"\n    ")]),e._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[e._m(0),e._v(" "),s("div",{staticClass:"col"},[s("a",{attrs:{href:"/img/"+e.request.image}},[s("img",{staticClass:"proof img-fluid",attrs:{src:"/img/small/"+e.request.image,alt:"proof"}})])])]),e._v(" "),e.previous.length>0?s("div",{staticClass:"row"},[e._m(1),e._v(" "),s("div",{staticClass:"col-12"},e._l(e.previous,(function(e){return s("a",{attrs:{href:"/img/"+e}},[s("img",{staticClass:"previous-images img-fluid",attrs:{src:"/img/tiny/"+e,alt:"previous_proof"}})])})),0)]):e._e(),e._v(" "),s("div",{staticClass:"row"},[e._m(2),e._v(" "),s("div",{staticClass:"col"},[s("p",{staticClass:"card-text"},[e._v(e._s(e.request.note))])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("label",[e._v(" Addresses\n                    "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],staticClass:"form-control",attrs:{type:"number",name:"amount"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("label",[e._v(" Message (Give a reason if denying)\n                    "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reason,expression:"reason"}],staticClass:"form-control",attrs:{type:"text",name:"reason",placeholder:"Message",cols:"70",rows:"5"},domProps:{value:e.reason},on:{input:function(t){t.target.composing||(e.reason=t.target.value)}}})])])]),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.available<e.amount},on:{click:function(t){return e.submitApproval("approve")}}},[e._v("Approve")]),e._v("\n                 \n                "),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(t){return e.submitApproval("deny")}}},[e._v("Deny")])])])])]):e._e()}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-12"},[t("h5",[this._v("Proof of letters sent")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-12 mt-3"},[t("h5",[this._v("Previous request images")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-12 mt-3"},[t("h5",[this._v("Message from requester")])])}],!1,null,"49a2d422",null);t.default=r.exports},"L/NF":function(e,t,s){var n=s("EYoz");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(n,a);n.locals&&(e.exports=n.locals)},NGFV:function(e,t,s){(e.exports=s("I1BE")(!1)).push([e.i,"\n.address-panel[data-v-5e4690df] {\n    display: grid;\n    grid-template-columns: auto 80px;\n    /*grid-gap: 10px;*/\n    margin-bottom: 25px;\n}\n.resident-panel[data-v-5e4690df] {\n    display: grid;\n    grid-gap: 10px;\n}\n",""])},XvRH:function(e,t,s){(e.exports=s("I1BE")(!1)).push([e.i,"\n.list-header[data-v-2b803e3f] {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n}\ntable[data-v-2b803e3f] {\n    width: 100%;\n}\n.print-cell[data-v-2b803e3f] {\n    padding: 30px;\n}\n",""])},aDKe:function(e,t,s){(e.exports=s("I1BE")(!1)).push([e.i,"\n.card-header[data-v-4217b746] {\n    cursor: pointer;\n    font-weight: bold;\n}\n",""])},anru:function(e,t,s){"use strict";s.r(t);var n={name:"Address",props:{address:{type:Object,required:!0}},computed:{addressLines:function(){var e=[];if(this.address.address)e.push(this.address.address);else{e.push(this.address.address_number+" "+(this.address.unit?this.address.unit+" ":"")+this.address.street);var t=[this.address.building,this.address.floor,this.address.room,this.address.additional].filter((function(e){return e}));t.length>0&&e.push(t.join(" "))}return e.push(this.address.city+", "+this.address.state+" "+this.address.zip+(this.address.zip4?"-"+this.address.zip4:"")),e}}},a=s("KHd+"),r=Object(a.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"address"},e._l(e.addressLines,(function(t){return s("div",[e._v(e._s(t))])})),0)}),[],!1,null,"e60e7eb4",null);t.default=r.exports},bUC5:function(e,t,s){s("9Wh1"),window.Vue=s("XuX8"),Vue.component("address-list",s("9P+s").default),Vue.component("address-list-item",s("7eC/").default),Vue.component("address-request",s("IC88").default),Vue.component("mailing-address",s("anru").default),Vue.component("penpal-list",s("0O3m").default),Vue.component("resident",s("FHMg").default);new Vue({el:"#app"})},nZHI:function(e,t,s){var n=s("aDKe");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(n,a);n.locals&&(e.exports=n.locals)},pyCd:function(e,t){},wSQI:function(e,t,s){"use strict";var n=s("xALO");s.n(n).a},wqAo:function(e,t,s){"use strict";var n=s("L/NF");s.n(n).a},wt6r:function(e,t,s){"use strict";var n=s("nZHI");s.n(n).a},xALO:function(e,t,s){var n=s("NGFV");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(n,a);n.locals&&(e.exports=n.locals)}},[[0,1,2]]]);